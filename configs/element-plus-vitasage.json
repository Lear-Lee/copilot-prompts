{
  "configId": "vitasage",
  "name": "VitaSage 工业配方系统配置",
  "description": "基于 VitaSage 项目实际使用习惯分析生成",
  "analyzedFrom": "/Users/pailasi/Work/VitaSage",
  "analyzedAt": "2025-12-16",
  "version": "1.0.0",
  "maintainer": "MTA团队（蘑菇与吐司的AI团队）",
  
  "rules": {
    "table": {
      "border": {
        "required": true,
        "frequency": 100,
        "description": "所有表格必须有边框"
      },
      "highlight-current-row": {
        "required": true,
        "frequency": 100,
        "description": "所有表格必须高亮选中行"
      },
      "v-loading": {
        "required": true,
        "variable": "listLoading",
        "frequency": 100,
        "description": "统一使用 listLoading 变量名"
      },
      "class": {
        "default": "mt_10",
        "description": "默认添加 mt_10 类名"
      },
      "columns": {
        "index": {
          "type": "index",
          "width": 70,
          "label": "$t('序号')"
        },
        "operation": {
          "fixed": "right",
          "widths": {
            "2buttons": 200,
            "3buttons": 250,
            "4buttons": 300
          }
        }
      },
      "widthRules": {
        "fixed": {
          "序号/ID": 70,
          "状态": 100,
          "时间": 180
        },
        "minWidth": {
          "短文本": 120,
          "中等文本": 180,
          "长文本/描述": 250
        }
      }
    },
    
    "button": {
      "operationColumn": {
        "style": "link",
        "frequency": 90,
        "description": "操作列按钮统一使用 link 样式"
      },
      "types": {
        "edit": "primary",
        "delete": "danger",
        "view": "primary",
        "cancel": "default"
      },
      "deleteButton": {
        "class": "del_btn",
        "description": "删除按钮需要额外的 del_btn 类名"
      },
      "loading": {
        "attribute": ":loading",
        "variable": "operaLoading",
        "withDisabled": true
      }
    },
    
    "dialog": {
      "destroy-on-close": {
        "required": true,
        "frequency": 95,
        "description": "弹窗关闭时必须销毁内容"
      },
      "widths": {
        "simple": "400px",
        "standard": "600px",
        "complex": "700px",
        "large": "800px",
        "extraLarge": "900px"
      },
      "title": {
        "pattern": "isEdit ? $t('编辑') : $t('新增')",
        "description": "动态标题使用三元运算符"
      },
      "footer": {
        "order": ["cancel", "confirm"],
        "cancelButton": {
          "text": "$t('取消')",
          "action": "dialogVisible = false"
        },
        "confirmButton": {
          "type": "primary",
          "loading": ":loading=\"operaLoading\"",
          "text": "$t('确认')"
        }
      }
    },
    
    "form": {
      "label-position": {
        "default": "top",
        "frequency": 80,
        "description": "默认标签在顶部显示"
      },
      "validation": {
        "refType": "FormInstance",
        "pattern": "await formRef.value.validate()"
      }
    },
    
    "pagination": {
      "parameters": {
        "naming": "snake_case",
        "pageIndex": "page_index",
        "pageSize": "page_size"
      },
      "defaultPageSize": 10,
      "layouts": {
        "full": "total, prev, pager, next, jumper",
        "simple": "prev, pager, next"
      },
      "simplePagerCount": 11
    },
    
    "message": {
      "preferredStyle": "method",
      "frequency": 95,
      "description": "优先使用方法形式: ElMessage.success($t('xxx'))",
      "examples": {
        "success": "ElMessage.success($t('保存成功'))",
        "warning": "ElMessage.warning($t('请先选择数据'))",
        "error": "ElMessage.error($t('操作失败'))"
      }
    },
    
    "messageBox": {
      "confirm": {
        "pattern": "await ElMessageBox.confirm($t('message'), $t('title'), { type: 'warning' })",
        "fullConfig": {
          "confirmButtonText": "$t('确认')",
          "cancelButtonText": "$t('取消')",
          "type": "warning"
        }
      },
      "prompt": {
        "pattern": "await ElMessageBox.prompt($t('message'), $t('title'), { ... })"
      },
      "errorHandling": {
        "pattern": "if (err !== 'cancel') { console.error(err) }"
      }
    },
    
    "select": {
      "loop": {
        "key": ":key=\"item.id\"",
        "label": ":label=\"item.name\"",
        "value": ":value=\"item.id\""
      }
    },
    
    "input": {
      "clearable": {
        "recommended": true,
        "frequency": 70
      },
      "textarea": {
        "rows": 3,
        "autosize": true
      }
    },
    
    "tabs": {
      "type": "border-card",
      "frequency": 80,
      "description": "统一使用 border-card 样式"
    },
    
    "i18n": {
      "required": true,
      "frequency": 100,
      "function": "$t",
      "scope": "all",
      "description": "所有 UI 文本必须使用 $t() 国际化",
      "setup": "const { appContext } = getCurrentInstance()!\nconst $t = appContext.config.globalProperties.$t"
    },
    
    "naming": {
      "loading": {
        "list": "listLoading",
        "operation": "operaLoading",
        "button": "btnLoading",
        "form": "formLoading"
      },
      "api": {
        "pattern": "const agin = await api.$methodName(params)",
        "successCheck": "if (agin.success)",
        "dataAccess": "agin?.Data || []"
      }
    }
  },
  
  "templates": {
    "crud": {
      "description": "标准 CRUD 页面模板",
      "path": "见 element-plus.md 完整示例部分"
    }
  }
}

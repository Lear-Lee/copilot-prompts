# ğŸ“ é…ç½®è¿ç§»æŒ‡å—

å¦‚æœä½ ä¹‹å‰ä½¿ç”¨çš„æ˜¯æ—§ç‰ˆæœ¬çš„ MCP é…ç½®ï¼Œæœ¬æŒ‡å—å°†å¸®åŠ©ä½ è¿ç§»åˆ°æ–°ç‰ˆæœ¬ã€‚

## ğŸ”„ ä» v1.3.x è¿ç§»åˆ° v1.4.0

### ä¸»è¦å˜æ›´

1. **VS Code é…ç½®æ ¼å¼å˜æ›´**
   - æ—§æ ¼å¼ï¼š`mcpServers`
   - æ–°æ ¼å¼ï¼š`servers`

2. **æ–°å¢å¿…éœ€å­—æ®µ**
   - `env: {}` - ç¯å¢ƒå˜é‡é…ç½®
   - `autoStart: true` - è‡ªåŠ¨å¯åŠ¨é€‰é¡¹

### è‡ªåŠ¨è¿ç§»ï¼ˆæ¨èï¼‰

æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ `auto_setup` å·¥å…·ï¼Œå®ƒä¼šè‡ªåŠ¨æ£€æµ‹æ—§é…ç½®å¹¶å‡çº§ï¼š

```
è¯·ä½¿ç”¨ auto_setup å·¥å…·
```

`auto_setup` ä¼šï¼š
- âœ… è‡ªåŠ¨æ£€æµ‹æ—§æ ¼å¼é…ç½®
- âœ… è½¬æ¢ä¸ºæ–°æ ¼å¼
- âœ… æ·»åŠ ç¼ºå¤±çš„å­—æ®µ
- âœ… ä¿ç•™å…¶ä»–é…ç½®

### æ‰‹åŠ¨è¿ç§»

#### VS Code é…ç½®

**æ—§æ ¼å¼** (v1.3.x):
```json
{
  "mcpServers": {
    "copilot-prompts": {
      "command": "node",
      "args": ["/path/to/build/index.js"]
    }
  }
}
```

**æ–°æ ¼å¼** (v1.4.0):
```json
{
  "servers": {
    "copilot-prompts": {
      "command": "node",
      "args": ["/path/to/build/index.js"],
      "env": {},
      "autoStart": true
    }
  }
}
```

**å˜æ›´æ­¥éª¤**:
1. å°† `mcpServers` æ”¹ä¸º `servers`
2. æ·»åŠ  `"env": {}`
3. æ·»åŠ  `"autoStart": true`
4. é‡æ–°åŠ è½½ VS Code çª—å£

#### Claude Desktop é…ç½®

Claude Desktop é…ç½®**ä¿æŒä¸å˜**ï¼Œä»ä½¿ç”¨ `mcpServers`:

```json
{
  "mcpServers": {
    "copilot-prompts": {
      "command": "node",
      "args": ["/path/to/build/index.js"]
    }
  }
}
```

## ğŸ” éªŒè¯è¿ç§»

### ä½¿ç”¨ health_check å·¥å…·

è¿ç§»åï¼Œä½¿ç”¨ `health_check` éªŒè¯é…ç½®ï¼š

```
è¯·ä½¿ç”¨ health_check å·¥å…·æ£€æŸ¥é…ç½®
```

ä½ åº”è¯¥çœ‹åˆ°ï¼š
```
âœ… mcp.json é…ç½®æ­£ç¡® (ä½¿ç”¨æ–°æ ¼å¼)
```

å¦‚æœçœ‹åˆ°ï¼š
```
âš ï¸ mcp.json ä½¿ç”¨æ—§æ ¼å¼ (mcpServers)
ğŸ’¡ å»ºè®®: è¿è¡Œ auto_setup å·¥å…·å‡çº§åˆ°æ–°æ ¼å¼ (servers)
```

è¯´æ˜éœ€è¦è¿ç§»ã€‚

### æ‰‹åŠ¨éªŒè¯

1. **æ£€æŸ¥é…ç½®æ–‡ä»¶**:
```bash
cat .vscode/mcp.json
```

åº”è¯¥åŒ…å«ï¼š
- `"servers"` (ä¸æ˜¯ `mcpServers`)
- `"env": {}`
- `"autoStart": true`

2. **é‡æ–°åŠ è½½ VS Code**:
- `Cmd/Ctrl+Shift+P` â†’ `Developer: Reload Window`

3. **æµ‹è¯•å·¥å…·**:
åœ¨ Copilot Chat ä¸­å°è¯•ï¼š
```
è¯·åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„é¢„è®¾åœºæ™¯
```

å¦‚æœèƒ½æ­£å¸¸å“åº”ï¼Œè¯´æ˜è¿ç§»æˆåŠŸã€‚

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜ 1: "ä¸å…è®¸å±æ€§ mcpServers"

**åŸå› **: VS Code ä¸­ä½¿ç”¨äº†æ—§æ ¼å¼

**è§£å†³**: å°† `mcpServers` æ”¹ä¸º `servers`

### é—®é¢˜ 2: å·¥å…·åˆ—è¡¨ä¸ºç©º

**åŸå› **: ç¼ºå°‘ `env` æˆ– `autoStart` å­—æ®µ

**è§£å†³**: æ·»åŠ è¿™äº›å­—æ®µå¹¶é‡æ–°åŠ è½½çª—å£

### é—®é¢˜ 3: æœåŠ¡å™¨å¯åŠ¨å¤±è´¥

**åŸå› **: è·¯å¾„é”™è¯¯æˆ–æƒé™é—®é¢˜

**è§£å†³**: 
```bash
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -la /path/to/build/index.js

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x /path/to/build/index.js
```

## ğŸ“š é…ç½®å¯¹ç…§è¡¨

| å¹³å° | é¡¶å±‚é”® | env å­—æ®µ | autoStart å­—æ®µ |
|------|--------|----------|----------------|
| VS Code v1.4.0 | `servers` | âœ… å¿…éœ€ | âœ… æ¨è |
| VS Code v1.3.x | `mcpServers` | âŒ æ—  | âŒ æ—  |
| Claude Desktop | `mcpServers` | âŒ å¯é€‰ | âŒ å¯é€‰ |

## ğŸ¯ æœ€ä½³å®è·µ

1. **ä½¿ç”¨è‡ªåŠ¨å·¥å…·**: ä¼˜å…ˆä½¿ç”¨ `auto_setup` å’Œ `health_check`
2. **ä¿æŒæ›´æ–°**: å®šæœŸæ£€æŸ¥å¹¶æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬
3. **éªŒè¯é…ç½®**: æ¯æ¬¡æ›´æ–°åä½¿ç”¨ `health_check` éªŒè¯
4. **ä½¿ç”¨ç»å¯¹è·¯å¾„**: é…ç½®ä¸­ä½¿ç”¨ç»å¯¹è·¯å¾„è€Œä¸æ˜¯ç›¸å¯¹è·¯å¾„
5. **å®šæœŸå¤‡ä»½**: åœ¨ä¿®æ”¹é…ç½®å‰å¤‡ä»½ç°æœ‰é…ç½®

## ğŸ“¦ ç‰ˆæœ¬å…¼å®¹æ€§

| MCP Server | VS Code é…ç½®æ ¼å¼ | Claude é…ç½®æ ¼å¼ |
|------------|------------------|-----------------|
| v1.4.0+ | `servers` | `mcpServers` |
| v1.3.x | `mcpServers` | `mcpServers` |
| v1.2.x | `mcpServers` | `mcpServers` |

## ğŸ†˜ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœè¿ç§»è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ [æ•…éšœæ’é™¤æŒ‡å—](./TROUBLESHOOTING.md)
2. ä½¿ç”¨ `health_check` å·¥å…·è·å–è¯Šæ–­ä¿¡æ¯
3. æäº¤ [GitHub Issue](https://github.com/ForLear/copilot-prompts/issues)

---

**è®°ä½**: ä½¿ç”¨ `auto_setup` å·¥å…·å¯ä»¥è‡ªåŠ¨å®Œæˆæ‰€æœ‰è¿ç§»å·¥ä½œï¼

# æœ¬åœ°è‡ªå®šä¹‰ Agents åŠŸèƒ½æµ‹è¯•æŠ¥å‘Š

## ğŸ“‹ æµ‹è¯•æ—¶é—´
2025-12-11 16:54

## âœ… å®ç°çš„åŠŸèƒ½

### 1. æœ¬åœ° Agent æ‰«æ (æ–¹æ¡ˆ 2)

#### æ‰«æè·¯å¾„æ”¯æŒ
- âœ… **é¡¹ç›®çº§åˆ«**: `.github/agents/*.agent.md` (æ¯ä¸ªå·¥ä½œåŒºæ–‡ä»¶å¤¹)
- âœ… **ç”¨æˆ·çº§åˆ«**: `~/.copilot-agents/*.agent.md` (å…¨å±€å¯ç”¨)

#### å…ƒæ•°æ®è§£æ
- âœ… **Frontmatter æ”¯æŒ**: è§£æ YAML æ ¼å¼çš„ descriptionã€tags
- âœ… **æ ‡é¢˜æå–**: ä»ç¬¬ä¸€ä¸ª `# æ ‡é¢˜` æå–
- âœ… **é»˜è®¤å€¼**: æ— å…ƒæ•°æ®æ—¶æä¾›åˆç†é»˜è®¤å€¼

#### UI æ˜¾ç¤ºä¼˜åŒ–
- âœ… **æ¥æºæ ‡è¯†**: 
  - ğŸ“ Project (è“è‰²) - é¡¹ç›®çº§åˆ«è‡ªå®šä¹‰
  - ğŸ  User (ç»¿è‰²) - ç”¨æˆ·çº§åˆ«è‡ªå®šä¹‰
  - â˜ï¸ GitHub (æ©™è‰²) - ä¸­å¤®ä»“åº“
- âœ… **å›¾æ ‡åŒºåˆ†**: folder/home/cloud ThemeIcon
- âœ… **Tooltip ä¿¡æ¯**: æ˜¾ç¤ºæ¥æºã€è·¯å¾„ã€æ ‡ç­¾

### 2. ä»£ç å®ç°

#### githubClient.ts (æ–°å¢ 150+ è¡Œ)
```typescript
// æ–°å¢æ–¹æ³•:
- fetchLocalCustomAgents(): ä¸»å…¥å£ï¼Œæ‰«ææ‰€æœ‰æœ¬åœ° agents
- scanAgentsDirectory(): æ‰«ææŒ‡å®šç›®å½•
- parseLocalAgentMetadata(): è§£æå…ƒæ•°æ®
```

**å…³é”®ç‰¹æ€§**:
- ä¼˜å…ˆçº§å¤„ç†: é¡¹ç›®çº§ > ç”¨æˆ·çº§ > GitHub
- å”¯ä¸€ ID ç”Ÿæˆ: `local-{source}-{project}-{name}`
- æ ‡ç­¾è‡ªåŠ¨æ·»åŠ : `custom`, `local`, `source:{project|user}`

#### promptsProvider.ts (æ–°å¢ 30+ è¡Œ)
```typescript
// UI ä¼˜åŒ–:
- æ¥æº emoji å‰ç¼€æ˜¾ç¤º
- ThemeIcon é¢œè‰²åŒºåˆ†
- Tooltip å¢å¼ºæ˜¾ç¤º
```

### 3. æµ‹è¯•ç”¨ä¾‹

#### æµ‹è¯•æ–‡ä»¶åˆ›å»º
```bash
# é¡¹ç›®çº§åˆ«
/Users/pailasi/Work/weipin/.github/agents/element-plus.agent.md
- description: 'Element Plus ç»„ä»¶åº“å¼€å‘ä¸“ç”¨ä»£ç†'
- tags: ['vue3', 'element-plus', 'ui-components']

# ç”¨æˆ·çº§åˆ«
~/.copilot-agents/my-custom.agent.md
- description: 'æˆ‘çš„ä¸ªäººè‡ªå®šä¹‰å¼€å‘è§„èŒƒ'
- tags: ['custom', 'personal', 'best-practices']
```

## ğŸ” éªŒè¯æ­¥éª¤

### 1. é‡å¯ VS Code
é‡æ–°åŠ è½½çª—å£ï¼Œç¡®ä¿æ’ä»¶æœ€æ–°ç‰ˆæœ¬ç”Ÿæ•ˆ

### 2. æ£€æŸ¥ MTA æ™ºèƒ½åŠ©æ‰‹è§†å›¾
- [ ] æ‰“å¼€ Copilot Prompts ä¾§è¾¹æ 
- [ ] Agents åˆ†ç±»ä¸‹åº”æ˜¾ç¤º:
  - ğŸ“ Element Plus (Project)
  - ğŸ  My Custom (User)
  - â˜ï¸ Vue 3 Agent (GitHub)
  - â˜ï¸ TypeScript Agent (GitHub)
  - â˜ï¸ i18n Agent (GitHub)

### 3. æµ‹è¯•åº”ç”¨é…ç½®
1. å‹¾é€‰ ğŸ“ Element Plus
2. å³é”®é¡¹ç›®æ–‡ä»¶å¤¹ â†’ åº”ç”¨ MTA é…ç½®
3. æ£€æŸ¥ `.github/copilot-instructions.md` æ˜¯å¦åŒ…å« Element Plus å†…å®¹

### 4. æµ‹è¯•ç”¨æˆ·çº§ Agent
1. å‹¾é€‰ ğŸ  My Custom
2. åº”ç”¨é…ç½®åˆ°ä»»ä½•é¡¹ç›®
3. éªŒè¯æ˜¯å¦å…¨å±€å¯ç”¨

## ğŸ“Š ä»£ç ç»Ÿè®¡

### ç¼–è¯‘å¤§å°å˜åŒ–
- `githubClient.js`: 24 KB â†’ **26 KB** (+2 KB)
- `promptsProvider.js`: 4.25 KB â†’ **5.5 KB** (+1.25 KB)
- æ€»åŒ…å¤§å°: 111.9 KB â†’ **113.26 KB** (+1.36 KB)

### åŠŸèƒ½è¦†ç›–ç‡
- âœ… **æ–¹æ¡ˆ 2**: æœ¬åœ°è‡ªå®šä¹‰ Agents æ”¯æŒ (100%)
- â³ **æ–¹æ¡ˆ 3**: Agent ç¼–è¾‘å™¨ UI (0%)
- â³ **æ–¹æ¡ˆ 1**: npm åŒ…æ™ºèƒ½åˆ†æ (0%)

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### æ–¹æ¡ˆ 3: Agent ç¼–è¾‘å™¨ UI
**é¢„è®¡å·¥ä½œé‡**: 4-6 å°æ—¶

**åŠŸèƒ½è®¾è®¡**:
1. å‘½ä»¤: `copilotPrompts.createAgent`
2. Webview è¡¨å•:
   - Agent åç§°
   - æè¿°ä¿¡æ¯
   - æ ¸å¿ƒè§„åˆ™ (Markdown ç¼–è¾‘å™¨)
   - ç¤ºä¾‹ä»£ç 
   - æ ‡ç­¾é€‰æ‹©
   - ä¿å­˜ä½ç½® (é¡¹ç›®/.github/agents æˆ– ç”¨æˆ·/~/.copilot-agents)
3. ä¿å­˜åè‡ªåŠ¨åˆ·æ–°æ ‘è§†å›¾

**æŠ€æœ¯è¦ç‚¹**:
- WebviewPanel åˆ›å»º
- è¡¨å•æ•°æ®éªŒè¯
- Markdown é¢„è§ˆ
- æ–‡ä»¶å†™å…¥ä¸åˆ·æ–°

### æ–¹æ¡ˆ 1: npm åŒ…æ™ºèƒ½åˆ†æ
**é¢„è®¡å·¥ä½œé‡**: 8-12 å°æ—¶

**åŠŸèƒ½è®¾è®¡**:
1. å‘½ä»¤: `copilotPrompts.generateAgentFromPackage`
2. è¾“å…¥: npm åŒ…å (å¦‚ `element-plus`)
3. åˆ†ææµç¨‹:
   - æ£€æŸ¥ `node_modules/${package}/`
   - è¯»å– `package.json` å…ƒä¿¡æ¯
   - è§£æ `.d.ts` ç±»å‹å®šä¹‰ (TypeScript AST)
   - æå– README.md æ–‡æ¡£
   - åˆ†æå¯¼å‡ºçš„ç»„ä»¶/API
4. ç”Ÿæˆ agent.md:
   - è‡ªåŠ¨ç”Ÿæˆç»„ä»¶åˆ—è¡¨
   - æå– Props/Events/Methods
   - ç¤ºä¾‹ä»£ç ç‰‡æ®µ
   - æœ€ä½³å®è·µå»ºè®®

**æŠ€æœ¯è¦ç‚¹**:
- TypeScript Compiler API
- AST éå†ä¸è§£æ
- Markdown ç”Ÿæˆ
- æ™ºèƒ½æ¨¡æ¿å¡«å……

## ğŸ’¡ ç”¨æˆ·ä½“éªŒä¼˜åŒ–å»ºè®®

1. **æœç´¢å¢å¼º**: æ”¯æŒæŒ‰æ¥æºè¿‡æ»¤ (local/github)
2. **åˆ†ç»„æ˜¾ç¤º**: æŒ‰æ¥æºåˆ†ç»„æ˜¾ç¤º Agents
3. **å³é”®èœå•**: 
   - ç¼–è¾‘æœ¬åœ° Agent (ç›´æ¥æ‰“å¼€æ–‡ä»¶)
   - åˆ é™¤æœ¬åœ° Agent
   - å¤åˆ¶ä¸ºæœ¬åœ° Agent (GitHub â†’ Local)
4. **çŠ¶æ€æç¤º**: 
   - é¦–æ¬¡ä½¿ç”¨æ—¶æç¤ºå¦‚ä½•åˆ›å»ºæœ¬åœ° Agent
   - æœ¬åœ° Agent æ•°é‡ç»Ÿè®¡
5. **å¿«é€Ÿåˆ›å»º**: 
   - å³é”®èœå• "æ–°å»º Agent"
   - æ¨¡æ¿é€‰æ‹© (Vue/React/Node.js)

## ğŸ“ å·²çŸ¥é—®é¢˜

- [ ] ç¼“å­˜æœºåˆ¶æœªæ›´æ–°: æœ¬åœ° agents å˜æ›´éœ€è¦é‡å¯ VS Code
- [ ] æ— ç¼–è¾‘ UI: éœ€æ‰‹åŠ¨ç¼–è¾‘ .agent.md æ–‡ä»¶
- [ ] æ— éªŒè¯: ä¸æ£€æŸ¥ frontmatter YAML æ ¼å¼é”™è¯¯
- [ ] æ— æœç´¢ä¼˜åŒ–: æœç´¢æœ¬åœ° agents ä¸ GitHub agents ä¸€è§†åŒä»

## âœ¨ æµ‹è¯•ç»“è®º

**æ–¹æ¡ˆ 2 å®ç°æˆåŠŸï¼**

æ ¸å¿ƒåŠŸèƒ½å·²å®Œæ•´å®ç°ï¼š
- âœ… è‡ªåŠ¨æ‰«æé¡¹ç›®å’Œç”¨æˆ·çº§åˆ« agents
- âœ… è§£æå…ƒæ•°æ®å¹¶æ˜¾ç¤º
- âœ… UI æ¸…æ™°åŒºåˆ†æ¥æº
- âœ… ä¸ç°æœ‰é…ç½®ç³»ç»Ÿæ— ç¼é›†æˆ

**å¾…éªŒè¯**:
- å®é™…ä½¿ç”¨ä¸­æ£€æŸ¥æœ¬åœ° agents æ˜¯å¦æ­£ç¡®åŠ è½½
- åº”ç”¨é…ç½®åæ£€æŸ¥ç”Ÿæˆçš„ .github/copilot-instructions.md å†…å®¹
- å¤šå·¥ä½œåŒºåœºæ™¯ä¸‹çš„è¡¨ç°

---

**ç”Ÿæˆæ—¶é—´**: 2025-12-11 16:54
**æµ‹è¯•äººå‘˜**: AI Assistant
**çŠ¶æ€**: âœ… é€šè¿‡åˆæ­¥æµ‹è¯•ï¼Œç­‰å¾…å®é™…éªŒè¯
